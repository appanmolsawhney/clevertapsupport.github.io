<!DOCTYPE html>
<html>
<head>
  <title>Leave Tracker</title>
  <link rel="stylesheet" href="leave-tracker.css">
</head>
<body>
  <h2 id="loading">Logging in...</h2>
  <div id="content" style="display:none;">
    <iframe 
      src="https://script.google.com/a/macros/clevertap.com/s/AKfycbwPXKEDw98xJP-MAvepkw01B1ZkdQE0k3y9-dbGhoOcLLCyp78bFagY5jlXARj79FAO/exec" 
      allowfullscreen
      title="GST Leave Tracker">
    </iframe>
  </div>

<script src="/assets/js/config-service.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
      console.log("Fetching config service details");
      ConfigService.getAppUrl("leave-tracker")
      .then(url => {
        if (url) {
          console.log("setting up url ", url);
          document.querySelector('#loading').style.display = 'none';
          document.querySelector('#content').style.display = 'block';
          document.querySelector('#content iframe').src = url;
        } else {
          console.error("No matching URL found for LeaveTracker");
        }
      })
      .catch(err => console.error("Error fetching app URL:", err));
    });
</script>

</body>
</html>
